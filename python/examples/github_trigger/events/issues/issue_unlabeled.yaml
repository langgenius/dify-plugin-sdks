identity:
  name: issue_unlabeled
  author: langgenius
  label:
    en_US: Issue Unlabeled
    zh_Hans: Issue 移除标签
    ja_JP: Issue ラベル削除

description:
  human:
    en_US: Triggers when a label is removed from an issue
    zh_Hans: 当从 issue 移除标签时触发
    ja_JP: issue からラベルが削除されたときにトリガーがアクティブになります。
  llm:
    en_US: This trigger activates when a label is removed from an issue on a GitHub repository, providing information about the issue, the label that was removed, repository, and user who removed it.
    zh_Hans: 当在 GitHub 仓库中从 issue 移除标签时，此触发器会被激活，提供有关 issue、移除的标签、仓库和移除它的用户的信息。
    ja_JP: issue から GitHub リポジトリでラベルが削除されたときにトリガーがアクティブになり、issue、削除されたラベル、リポジトリ、およびラベルを削除したユーザーに関する情報を提供します。
parameters:
- name: removed_label
  label:
    en_US: Removed Label
    zh_Hans: 移除的标签
    ja_JP: 削除されたラベル
  type: string
  required: false
  description:
    en_US: "Only trigger if these specific labels were removed (e.g., in-progress, blocked, needs-review, comma-separated). Leave empty to trigger for any label removal."
    zh_Hans: "仅当移除了这些特定标签时触发（例如：in-progress, blocked, needs-review，逗号分隔）。留空则对任何标签移除触发。"
    ja_JP: "これらの特定のラベルが削除された場合のみトリガー（例: in-progress, blocked, needs-review，カンマ区切り）。空の場合は任意のラベル削除でトリガー。"

- name: unlabeler
  label:
    en_US: Unlabeled By
    zh_Hans: 标签移除者
    ja_JP: ラベルを削除したユーザー
  type: string
  required: false
  description:
    en_US: "Only trigger if unlabeled by these users (e.g., maintainer, admin, comma-separated). Leave empty to allow any user."
    zh_Hans: "仅当由这些用户移除标签时触发（例如：maintainer, admin，逗号分隔）。留空则允许任何用户。"
    ja_JP: "これらのユーザーによってラベルが削除された場合のみトリガー（例: maintainer, admin，カンマ区切り）。空の場合は全てのユーザーを許可。"

- name: milestone
  label:
    en_US: Milestone
    zh_Hans: 里程碑
    ja_JP: マイルストーン
  type: string
  required: false
  description:
    en_US: "Only trigger for issues with these milestones (e.g., v1.0, v2.0, Sprint-2, comma-separated). Leave empty for all milestones."
    zh_Hans: "仅对具有这些里程碑的议题触发（例如：v1.0, v2.0, Sprint-2，逗号分隔）。留空则对所有里程碑触发。"
    ja_JP: "これらのマイルストーンのイシューのみトリガー（例: v1.0, v2.0, Sprint-2，カンマ区切り）。空の場合は全てのマイルストーンでトリガー。"

- name: title_pattern
  label:
    en_US: Title Pattern
    zh_Hans: 标题模式
    ja_JP: タイトルパターン
  type: string
  required: false
  description:
    en_US: "Only trigger if title matches this regex pattern (e.g., ^\\[FEATURE\\].*, .*completed.*, supports regex). Leave empty for no title filtering."
    zh_Hans: "仅当标题匹配此正则表达式模式时触发（例如：^\\[FEATURE\\].*, .*completed.*，支持正则表达式）。留空则不过滤标题。"
    ja_JP: "タイトルがこの正規表現パターンに一致する場合のみトリガー（例: ^\\[FEATURE\\].*, .*completed.*，正規表現対応）。空の場合はタイトルフィルタなし。"

output_schema:
  type: object
  properties:
    issue:
      type: object
      description: The issue itself
      required:
      - id
      - node_id
      - number
      - title
      - state
      - created_at
      - updated_at
      - user
      - html_url

    label:
      type: object
      description: The label that was removed
      required:
      - id
      - name
      - color

    repository:
      type: object
      description: The repository where the label was removed
      required:
      - id
      - node_id
      - name
      - full_name
      - private
      - owner
      - html_url
      - url
      - created_at
      - updated_at
      - fork
      - default_branch
      - visibility

    sender:
      type: object
      description: The user who triggered the event
      required:
      - id
      - login
      - type

  required:
  - issue
  - label
  - repository
  - sender

extra:
  python:
    source: events/issues/issue_unlabeled.py
