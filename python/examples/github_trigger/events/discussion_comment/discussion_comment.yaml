identity:
  name: discussion_comment
  author: langgenius
  label:
    en_US: Discussion Comment (Unified)
    zh_Hans: 讨论评论（统一）
    ja_JP: ディスカッションコメント（統合）

description:
  en_US: Unified discussion_comment event with actions filter
  zh_Hans: 带 actions 过滤的统一 discussion_comment 事件
  ja_JP: アクションフィルタ付きの統合 discussion_comment イベント

parameters:
- name: actions
  label:
    en_US: Actions
    zh_Hans: 动作
    ja_JP: アクション
  type: select
  required: false
  multiple: true
  default:
  - created
  - edited
  - deleted
  options:
  - value: created
    label:
      en_US: Created
      zh_Hans: 创建
      ja_JP: 作成
  - value: edited
    label:
      en_US: Edited
      zh_Hans: 编辑
      ja_JP: 編集
  - value: deleted
    label:
      en_US: Deleted
      zh_Hans: 删除
      ja_JP: 削除
  description:
    en_US: Multi select filter for discussion comment actions. Leave empty to accept all.
    zh_Hans: 多选过滤讨论评论动作。留空不过滤。
    ja_JP: ディスカッションコメントのアクションを複数選択で。未設定で全許可。

- name: body_contains
  label:
    en_US: Body Contains
    zh_Hans: 正文包含
    ja_JP: 本文に含む
  type: string
  required: false
  description:
    en_US: Match keywords in comment body. Comma separated any match passes.
    zh_Hans: 评论正文中包含关键字。逗号分隔 任一命中即通过。
    ja_JP: コメント本文のキーワード一致。カンマ区切りでいずれか一致。

- name: commenter
  label:
    en_US: Commenter
    zh_Hans: 评论者
    ja_JP: コメント投稿者
  type: string
  required: false
  description:
    en_US: Comma separated commenter logins to include.
    zh_Hans: 逗号分隔的评论者登录名白名单。
    ja_JP: コメント投稿者のログインをカンマ区切りで指定。

output_schema:
  type: object
  properties:
    action:
      type: string
    comment:
      type: object
      properties:
        id:
          type: integer
        body:
          type: string
        user:
          type: object
          properties:
            login:
              type: string
            id:
              type: integer
        html_url:
          type: string
          format: uri
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
      - body
      - user
      - html_url
    discussion:
      type: object
      properties:
        id:
          type: integer
        number:
          type: integer
        title:
          type: string
        state:
          type: string
        html_url:
          type: string
          format: uri
      required:
      - id
      - number
      - title
      - state
      - html_url
    repository:
      type: object
      properties:
        id:
          type: integer
          format: int64
        full_name:
          type: string
        html_url:
          type: string
          format: uri
      required:
      - id
      - full_name
      - html_url
    sender:
      type: object
      properties:
        id:
          type: integer
        login:
          type: string
        type:
          type: string
      required:
      - id
      - login
      - type

  required:
  - action
  - comment
  - discussion
  - repository
  - sender

extra:
  python:
    source: events/discussion_comment/discussion_comment.py
