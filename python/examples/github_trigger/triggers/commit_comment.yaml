identity:
  name: commit_comment
  author: langgenius
  label:
    en_US: Commit Comment
    zh_Hans: 提交评论
    pt_BR: Comentário de Commit

description:
  human:
    en_US: Triggers when a comment is created on a commit
    zh_Hans: 当在提交上创建评论时触发
    pt_BR: Dispara quando um comentário é criado em um commit
  llm:
    en_US: This trigger activates when a comment is created on a commit in a GitHub repository, providing information about the comment, commit, repository, and user who created it.
    zh_Hans: 当在 GitHub 仓库的提交上创建评论时，此触发器会被激活，提供有关评论、提交、仓库和创建它的用户的信息。
    pt_BR: Este gatilho é ativado quando um comentário é criado em um commit em um repositório do GitHub, fornecendo informações sobre o comentário, commit, repositório e usuário que o criou.

parameters:
  - name: commit_filter
    label:
      en_US: Commit SHA Filter
      zh_Hans: 提交 SHA 过滤器
      pt_BR: Filtro de SHA do Commit
    type: string
    required: false
    description:
      en_US: Filter by specific commit SHA (optional)
      zh_Hans: 按特定提交 SHA 过滤（可选）
      pt_BR: Filtrar por SHA específico do commit (opcional)

output_schema:
  type: object
  properties:
    comment:
      type: object
      properties:
        id:
          type: number
          description: The comment ID
        body:
          type: string
          description: The comment body
        html_url:
          type: string
          description: The URL to view the comment on GitHub
        created_at:
          type: string
          description: When the comment was created
        updated_at:
          type: string
          description: When the comment was last updated
        line:
          type: number
          description: The line number the comment refers to (if applicable)
        path:
          type: string
          description: The file path the comment refers to (if applicable)
        position:
          type: number
          description: The position in the diff the comment refers to (if applicable)
        commit_id:
          type: string
          description: The commit SHA the comment is on
        author:
          type: object
          properties:
            login:
              type: string
              description: The username of the comment author
            avatar_url:
              type: string
              description: The avatar URL of the comment author
            html_url:
              type: string
              description: The profile URL of the comment author
    repository:
      type: object
      properties:
        name:
          type: string
          description: The repository name
        full_name:
          type: string
          description: The full repository name (owner/repo)
        html_url:
          type: string
          description: The repository URL
        description:
          type: string
          description: The repository description
        private:
          type: boolean
          description: Whether the repository is private
        owner:
          type: object
          properties:
            login:
              type: string
              description: Repository owner username
            avatar_url:
              type: string
              description: Repository owner avatar URL
            html_url:
              type: string
              description: Repository owner profile URL
    sender:
      type: object
      properties:
        login:
          type: string
          description: The username who created the comment
        avatar_url:
          type: string
          description: The avatar URL of the sender
        html_url:
          type: string
          description: The profile URL of the sender
        type:
          type: string
          description: The type of the sender (User, Bot, etc.)

extra:
  python:
    source: triggers/commit_comment.py