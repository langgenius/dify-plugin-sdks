identity:
  name: issue_unlabeled
  author: langgenius
  label:
    en_US: Issue Unlabeled
    zh_Hans: Issue 移除标签
    pt_BR: Issue Desrotulada

description:
  human:
    en_US: Triggers when a label is removed from an issue
    zh_Hans: 当从 issue 移除标签时触发
    pt_BR: Dispara quando um rótulo é removido de uma issue
  llm:
    en_US: This trigger activates when a label is removed from an issue on a GitHub repository, providing information about the issue, the removed label, repository, and user who removed the label.
    zh_Hans: 当从 GitHub 仓库中的 issue 移除标签时，此触发器会被激活，提供有关 issue、移除的标签、仓库和移除标签的用户的信息。
    pt_BR: Este gatilho é ativado quando um rótulo é removido de uma issue em um repositório do GitHub, fornecendo informações sobre a issue, o rótulo removido, o repositório e o usuário que removeu o rótulo.

parameters:
  - name: issue_filter
    label:
      en_US: Issue Number Filter
      zh_Hans: Issue 编号过滤器
      pt_BR: Filtro de Número da Issue
    type: number
    required: false
    description:
      en_US: Filter by specific issue number (optional)
      zh_Hans: 按特定 issue 编号过滤（可选）
      pt_BR: Filtrar por número específico da issue (opcional)

output_schema:
  type: object
  properties:
    issue:
      type: object
      properties:
        number:
          type: number
          description: The issue number
        title:
          type: string
          description: The issue title
        body:
          type: string
          description: The issue description
        state:
          type: string
          description: The issue state
        html_url:
          type: string
          description: The URL to view the issue on GitHub
        created_at:
          type: string
          description: When the issue was created
        updated_at:
          type: string
          description: When the issue was last updated
        labels:
          type: array
          description: Remaining labels currently attached to the issue
          items:
            type: object
            properties:
              name:
                type: string
                description: Label name
              color:
                type: string
                description: Label color
              description:
                type: string
                description: Label description
        assignees:
          type: array
          description: Users assigned to the issue
          items:
            type: object
            properties:
              login:
                type: string
                description: Assignee username
              avatar_url:
                type: string
                description: Assignee avatar URL
              html_url:
                type: string
                description: Assignee profile URL
        author:
          type: object
          properties:
            login:
              type: string
              description: The username of the issue author
            avatar_url:
              type: string
              description: The avatar URL of the issue author
            html_url:
              type: string
              description: The profile URL of the issue author
    label:
      type: object
      description: The label that was removed from the issue
      properties:
        name:
          type: string
          description: The name of the removed label
        color:
          type: string
          description: The color of the removed label
        description:
          type: string
          description: The description of the removed label
        default:
          type: boolean
          description: Whether this was a default label
        url:
          type: string
          description: The API URL for this label
    repository:
      type: object
      properties:
        name:
          type: string
          description: The repository name
        full_name:
          type: string
          description: The full repository name (owner/repo)
        html_url:
          type: string
          description: The repository URL
        description:
          type: string
          description: The repository description
        private:
          type: boolean
          description: Whether the repository is private
        owner:
          type: object
          properties:
            login:
              type: string
              description: Repository owner username
            avatar_url:
              type: string
              description: Repository owner avatar URL
            html_url:
              type: string
              description: Repository owner profile URL
    sender:
      type: object
      properties:
        login:
          type: string
          description: The username who removed the label
        avatar_url:
          type: string
          description: The avatar URL of the sender
        html_url:
          type: string
          description: The profile URL of the sender
        type:
          type: string
          description: The type of the sender (User, Bot, etc.)

extra:
  python:
    source: triggers/issue_unlabeled.py