identity:
  name: pull_request_ready_for_review
  author: langgenius
  label:
    en_US: Pull Request Ready for Review
    zh_Hans: Pull Request 准备审查
    pt_BR: Pull Request Pronto para Revisão

description:
  human:
    en_US: Triggers when a pull request is ready for review
    zh_Hans: 当 pull request 准备好审查时触发
    pt_BR: Dispara quando um pull request está pronto para revisão
  llm:
    en_US: This trigger activates when a pull request is marked as ready for review on a GitHub repository, providing information about the pull request, repository, and user who marked it ready.
    zh_Hans: 当在 GitHub 仓库中将 pull request 标记为准备审查时，此触发器会被激活，提供有关 pull request、仓库和标记它的用户的信息。
    pt_BR: Este gatilho é ativado quando um pull request é marcado como pronto para revisão em um repositório do GitHub, fornecendo informações sobre o pull request, repositório e usuário que o marcou como pronto.

parameters:
  - name: pr_filter
    label:
      en_US: PR Number Filter
      zh_Hans: PR 编号过滤器
      pt_BR: Filtro de Número do PR
    type: number
    required: false
    description:
      en_US: Filter by specific PR number (optional)
      zh_Hans: 按特定 PR 编号过滤（可选）
      pt_BR: Filtrar por número específico do PR (opcional)

output_schema:
  type: object
  properties:
    pull_request:
      type: object
      properties:
        number:
          type: number
          description: The pull request number
        title:
          type: string
          description: The pull request title
        body:
          type: string
          description: The pull request description
        state:
          type: string
          description: The pull request state
        html_url:
          type: string
          description: The URL to view the pull request on GitHub
        draft:
          type: boolean
          description: Whether the pull request is a draft (always false for ready for review events)
        head:
          type: object
          properties:
            ref:
              type: string
              description: The head branch name
            sha:
              type: string
              description: The head commit SHA
        base:
          type: object
          properties:
            ref:
              type: string
              description: The base branch name
            sha:
              type: string
              description: The base commit SHA
        author:
          type: object
          properties:
            login:
              type: string
              description: The username of the pull request author
            avatar_url:
              type: string
              description: The avatar URL of the pull request author
            html_url:
              type: string
              description: The profile URL of the pull request author
    repository:
      type: object
      properties:
        name:
          type: string
          description: The repository name
        full_name:
          type: string
          description: The full repository name (owner/repo)
        html_url:
          type: string
          description: The repository URL
        description:
          type: string
          description: The repository description
        private:
          type: boolean
          description: Whether the repository is private
        owner:
          type: object
          properties:
            login:
              type: string
              description: Repository owner username
            avatar_url:
              type: string
              description: Repository owner avatar URL
            html_url:
              type: string
              description: Repository owner profile URL
    sender:
      type: object
      properties:
        login:
          type: string
          description: The username who marked the pull request ready for review
        avatar_url:
          type: string
          description: The avatar URL of the sender
        html_url:
          type: string
          description: The profile URL of the sender
        type:
          type: string
          description: The type of the sender (User, Bot, etc.)

extra:
  python:
    source: triggers/pull_request_ready_for_review.py